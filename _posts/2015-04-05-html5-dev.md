---
layout: page
title: "HTML5 Development"
category: html
redirect_from: "/labs/html5-dev"
date: 2016-05-13 17:34:41
order: 3
---

# HTML5 Development Environment Setup

## BigBlueButton HTML5 Client Design
If you have not already done so, you should read through the [Overview of HTML5 Client](/html/html5-overview.html)

## Initial setup

Before you begin, you will need to have a BigBlueButton 1.1 (or later) server installed from packages (see [install BigBlueButton](/install/install.html)). Make sure your installation is functional. Try out the demos.

### Have a GitHub Account

The BigBlueButton [source is hosted on GitHub](https://github.com/bigbluebutton/bigbluebutton).  You need a GitHub account.  Also, you need to be very familiar with how git works.  Specifically, you need to know how to

  * clone a repository
  * create a branch
  * push changes back to a repository

If you have not used git before, or if the terms **_clone_**, **_branch_**, and **_commit_** are unfamiliar to you, stop now.  These are fundamental concepts to git that you need to become competent with before trying to develop on BigBlueButton. To become competent, a good place to start is this [free book](http://progit.org/book/) and [GitHub Help pages](http://help.github.com/).

Using GitHub makes it easy for you to work on your own copy of the BigBlueButton source, store your updates to the source to your GitHub account, and make it easy for you to [contribute to BigBlueButton](/support/faq.html#contributing-to-bigbluebutton).

### Subscribe to bigbluebutton-dev

We recommend you subscribe to the [bigbluebutton-dev](http://groups.google.com/group/bigbluebutton-dev/topics?gvc=2) mailing list to follow updates to the development of BigBlueButton and to collaborate with other developers.



### Checking out the Source

We want to clone the source in the following directory:

~~~
/home/firstuser/dev
~~~

Using your GitHub account, do the following

1. [Fork](http://help.github.com/fork-a-repo/) the BigBlueButton repository into your GitHub account.
2. Clone your repository into your `~/dev` folder.

Note that you need just the master branch.

~~~
$ git clone https://github.com/<YOUR_GITHUB_USERNAME>/bigbluebutton.git
~~~

After cloning, you'll have the following directory (make sure the `bigbluebutton` directory is within your `dev` directory).

~~~
/home/firstuser/dev/bigbluebutton
~~~

Confirm that you are working on the master branch.

~~~
$ cd /home/firstuser/dev/bigbluebutton
$ git status
~~~

You should see

~~~
# On branch master
nothing to commit (working directory clean)
~~~

When you first clone the BigBlueButton git repository, git will place you, by default, on the `master` branch, which is the latest code for BigBlueButton. This is the branch you want to stay on. We recommend you periodically pull the latest commits from 'master' so you stay up to date with the latest version.


## Installation of the HTML5 client component

<br/><b>Note that if you [followed the steps](/html/html5-overview.html#try-out-the-html5-client-by-installing-it-from-packages) to install the HTML5 client from packages you have to make sure the client is shut down so you are not running two copies in parallel.

~~~
$ sudo service bbb-html5 stop
~~~

### NginX configuration:

If you do not have `/etc/bigbluebutton/nginx/html5.nginx`, please create it and make sure it contains the following:

~~~
location /html5client {
  proxy_pass http://127.0.0.1:3000;
  proxy_http_version 1.1;
  proxy_set_header Upgrade $http_upgrade;
  proxy_set_header Connection "Upgrade";
}

location /_timesync {
  proxy_pass http://127.0.0.1:3000;
}
~~~

Save the file. Reload:

~~~
$ sudo /etc/init.d/nginx reload
~~~

Test the nginx configuration

~~~
$ sudo nginx -t
~~~
If the output from the above command contains errors check again the nginx configuration you just edited.

### curl

You will need to download some files throughout these instructions using curl. If it is not installed on your server, you can install the package using the following command

~~~
$ sudo apt-get install curl
~~~

### Meteor.js

You will need to install [Meteor.js](http://www.meteor.com).

~~~
$ curl https://install.meteor.com/ | sh
~~~

### NPM

You will need to also install [npm](https://www.npmjs.com/).

~~~
$ sudo apt-get install npm
~~~

### Configurations
You want to modify `bigbluebutton.properties` so that SVG images for the HTML5 client's presentation are generated by default.

~~~
$ sudo vi /var/lib/tomcat7/webapps/bigbluebutton/WEB-INF/classes/bigbluebutton.properties
~~~

Set the field `svgImagesRequired` to true. Then restart tomcat7.

~~~
$ sudo service tomcat7 restart
~~~

### Running
Assuming that you cloned the repository in `/home/firstuser/dev`, navigate to

~~~
$ cd /home/firstuser/dev/bigbluebutton/bigbluebutton-html5/
~~~  

Install the npm dependencies

~~~
meteor npm install
~~~

In order to run the server side of the HTML5 client you will need to execute the following:

~~~
$ npm start
~~~

By default, the client will run in `development` mode. Loading into production environment can be done by passing the value of `NODE_ENV`:

~~~
$ NODE_ENV=production npm start
~~~

Wait until the process starts and confirm that the configuration is valid by navigating to

~~~
http://<your_ip>/html5client/check
~~~

The result should be `{"html5clientStatus":"running"}`.

### Usage

Make sure you have the demos package installed: `sudo apt install bbb-demos`
Go to `http://<your_ip>/` in the browser. Select “API examples”. Navigate to “HTML5 Client Demo” and use the form. You will enter a meeting titled “Demo Meeting”.

On a device that does not support Flash (for examaple Android devices) you can simply attempt to join a meeting from `http://<your_ip>/`. Since your device's browser lacks Flash by default, you will be offered to navigate to the HTML5 client instead.

### Serve the client over HTTPS
First, make sure you follow the instructions for [configuring https on BigBlueButton](/install/install.html#configuring-https-on-bigbluebutton). Test your server using the Flash client. Make sure the audio works and the slides display properly.
Then for configuring the HTML5 client to run over HTTPS perform the following steps:

-Modify the file `start.sh` so that `ENVIRONMENT_TYPE=development` becomes `ENVIRONMENT_TYPE=production`. This is required for the proper handling and display of the slide SVG files.

Test your change as mentioned in [Usage](/html/html5-dev.html#usage)

## Localization with Transifex

We use Transifex for crowdsourcing for BigBlueButton Internationalization(i18n). The following steps are not a part of the typical installation and are only required for bringing the language strings in github up to date.

### 1. Install Transifex Client ###

To installation the Transifex client we use pip, a package management system designed to manage and install Python packages.

~~~
$ sudo apt-get install python-pip
~~~

Next we use Pip to install the Transifex client.

~~~
$ sudo pip install transifex-client
~~~

The following command is used to upgrade the client to the most current version.

~~~
$ pip install --upgrade transifex-client
~~~

### 2. Transifex Project Initialization ###

The `tx init` command is used to initialize a project. Run from the root directory of the application.

~~~
$ tx init
Creating .tx folder. . .
Transifex instance [https://www.transifex.com]:
~~~

Press Enter (will be prompted for your Transifex username and password)

~~~
Creating skeleton...
Creating config file...
​Done.
~~~

This will create a Transifex project file in the current directory containing the project’s configuration file.


### 3. Transifex Client configuration ###
#### .tx/config ####

The Transifex client uses a per project configuration file. This is located in .tx/config of your project's root directory and is generated on running the `tx init` command. It should be updated with the following configuration:

~~~
[main]
host = https://www.transifex.com

[bigbluebutton-html5.enjson]
file_filter = private/locales/<lang>.json
source_file = private/locales/en.json
source_lang = en
type = KEYVALUEJSON
~~~


### 4. Set a Project Remote ###

`tx set` allows you to configure and edit Transifex project files on your local computer.

The following command is used to initialize a local project for the remote project specified by the URL.

`$ tx set --auto-remote https://www.transifex.com/projects/p/bigbluebutton-html5/resources/enjson/`

Next we can pull language files located on the Transifex server.


### 5. Pull: Download Transifex Translations ###

To pull all translation files from the Transifex server, the following command is used.

`$ tx pull -a bigbluebutton-html5.enjson`

In the event that there are a lot of translations, instead of pulling all, we can specify which translations we want to acquire.

`$ tx pull -r bigbluebutton-html5.enjson -l pt_BR`

Alternatively, simply download a ZIP archive of all languages in the project from the Transifex project page and unarchive it in the `private/locales/` directory.

Note:
Any translation file that is not 100% translated and is pulled from the transifex server, will be merged with the source locale strings. This will cause string duplication, the source locale strings should be removed from the translation locales.
