## Client Logger

To use the logger import it then be called by doing a function call with the level name. 

~~~  
import logger from '/imports/startup/client/logger'; 

logger.warn('Hi on warn') 
~~~ 

 The client logger accepts targets such as console, server and external to have logs sent to them. Targets must be set as an array under public.clientLog. Add the targets using this format {"target":"server", "level": "info"}. When sending to a url use the format {"target": "external", "level": "info", "url": "", "method": ""}. 


Name | Default Value |Accepted Values| Description 
 --- | --- | ---| ---
target | "console" | "console", "external", "server" | Where the logs will be sent to.
level | "info"  | "debug", "info", "warn", "error" | The lowest log level that will be sent. Any log level higher than this will also be sent to the target. 
url | - | - | The end point where logs will be sent to when the target is set to "external".
method | - | "POST", "PUT" | HTTP method being used when using the target "external".

When setting the output to external, the BigBlueButton client will POST the log events to the URL endpoint provided by uri. To create an associated endpoint, create a file in /etc/bigbluebutton/nginx/client-log.nginx` with the contents.

~~~
location /html5Log {
	access_log /var/log/nginx/html5-client.log postdata;
	echo_read_request_body;
}
~~~

Then create a file in /etc/nginx/conf.d/client-log.conf with the contents.

~~~
log_format postdata '$remote_addr [$time_iso8601] $request_body';
~~~

Install the full version of Nginx.

~~~
sudo apt-get install nginx-full
~~~

Finally, restart nginx with sudo service restart nginx. Launch the BigBlueButton client in a new session and youâ€™ll see output in /var/log/nginx/html5-client.log as the client loads.

~~~
192.168.206.1 [2018-07-31T09:19:32-07:00] [{\x22name\x22:\x22clientLogger\x22,\x22level\x22:60,\x22levelName\x22:\x22fatal\x22,\x22msg\x22:\x22AAAAA\x22,\x22time\x22:\x222018-07-31T16:19:29.236Z\x22,\x22src\x22:\x22https://example.com/html5client/app/app.js?hash=0c6d532d4a10e830e8cb0e568bd3652324b444e2:73:10\x22,\x22v\x22:1,\x22url\x22:\x22https://example.com/html5client/join?sessionToken=pfwudb1srjjaee5e\x22,\x22userAgent\x22:\x22Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36\x22,\x22count\x22:1}
~~~

These logs are useful for troubleshooting and debugging the client.

~~~ 
 "clientLog": [ 
      { 
        "target": "server", 
        "level": "info" 
      }, 
      { 
        "target": "console", 
        "level": "debug" 
      },
      {
        "target": "external", 
        "level": "info", 
        "url": "https://example.com/html5Log", 
        "method": "POST"
      }
    ] 
~~~  